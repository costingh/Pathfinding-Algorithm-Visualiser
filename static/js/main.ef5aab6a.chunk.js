(this["webpackJsonppath-finding-visualiser-react"]=this["webpackJsonppath-finding-visualiser-react"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(0),s=n.n(a),r=n(7),o=n.n(r),l=(n(29),n(17)),c=n.n(l),u=n(21),h=n(4),d=n(9),f=n(10),g=n(14),v=n(13),p=(n(31),function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.row,n=e.col,a=e.isFinish,s=e.isStart,r=e.isWall,o=e.onMouseUp,l=e.onMouseDown,c=e.onMouseEnter;return Object(i.jsxs)("div",{id:"Node-".concat(t,"-").concat(n),className:"Node ".concat(r&&"Node-wall"),onMouseDown:function(){return l(t,n)},onMouseEnter:function(){return c(t,n)},onMouseUp:function(){return o()},children:[s&&Object(i.jsx)("div",{id:"dragstart"}),a&&Object(i.jsx)("div",{id:"dragtarget"})]})}}]),n}(a.Component));function m(e,t,n){var i=[];t.distance=0;for(var a=function(e){var t,n=[],i=Object(h.a)(e);try{for(i.s();!(t=i.n()).done;){var a,s=t.value,r=Object(h.a)(s);try{for(r.s();!(a=r.n()).done;){var o=a.value;n.push(o)}}catch(l){r.e(l)}finally{r.f()}}}catch(l){i.e(l)}finally{i.f()}return n}(e);a.length;){j(a);var s=a.shift();if(!s.isWall){if(s.distance===1/0)return i;if(s.isVisited=!0,i.push(s),s===n)return i;b(s,e)}}}function j(e){e.sort((function(e,t){return e.distance-t.distance}))}function b(e,t){var n,i=function(e,t){var n=[],i=e.col,a=e.row;a>0&&n.push(t[a-1][i]);a<t.length-1&&n.push(t[a+1][i]);i>0&&n.push(t[a][i-1]);i<t[0].length-1&&n.push(t[a][i+1]);return n.filter((function(e){return!e.isVisited}))}(e,t),a=Object(h.a)(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.distance=e.distance+1,s.previousNode=e}}catch(r){a.e(r)}finally{a.f()}}function x(e,t,n){var i=[],a=e.row,s=e.col;return t[a-1]&&t[a-1][s]&&i.push(t[a-1][s]),t[a+1]&&t[a+1][s]&&i.push(t[a+1][s]),t[a][s-1]&&i.push(t[a][s-1]),t[a][s+1]&&i.push(t[a][s+1]),n&&(t[a-1]&&t[a-1][s-1]&&i.push(t[a-1][s-1]),t[a+1]&&t[a+1][s-1]&&i.push(t[a+1][s-1]),t[a-1]&&t[a-1][s+1]&&i.push(t[a-1][s+1]),t[a+1]&&t[a+1][s+1]&&i.push(t[a+1][s+1])),i}function N(e){for(var t=[],n=e;null!==n;)t.unshift(n),n=n.previousNode;return t}function w(e,t,n){if("manhattan"===n)return Math.abs(t.row-e.row)+Math.abs(t.col-e.col);if("euclidean"===n)return Math.pow(t.row-e.row,2)+Math.pow(t.col-e.col,2);if("diagonal"===n){var i=Math.abs(t.row-e.row),a=Math.abs(t.col-e.col);return Math.max(i,a)+(Math.sqrt(2)-1)*Math.min(i,a)}}function O(e,t,n,i,a){var s=[],r=[],o=[];s.push(t);for(var l=function(){for(var t=0,l=0;l<s.length;l++)s[l].f<s[t].f&&(t=l);var c=s[t];if(o.push(c),c===n)return{v:o};s=s.filter((function(e){return e!==c})),r.push(c);for(var u=x(c,e,a),h=0;h<u.length;h++){var d=u[h];if(!r.includes(d)&&!d.isWall){var f=c.g+1,g=!1;s.includes(d)?f<d.g&&(g=!0):(g=!0,d.h=w(d,n,i),s.push(d)),g&&(d.previousNode=c,d.g=f,d.f=d.g+d.h,o.push(d))}}};s.length;){var c=l();if("object"===typeof c)return c.v}return[]}function y(e,t,n,i){for(var a=[t],s=[],r=function(){var t=a.shift();if(s.push(t),t===n)return{v:s};t.isWall||!t.isStart&&t.isVisited||(t.isVisited=!0,s.push(t),x(t,e,!1).forEach((function(e){e.isVisited||e.isWall||(e.previousNode=t,a.push(e))})))};a.length;){var o=r();if("object"===typeof o)return o.v}return[]}function S(e,t,n){for(var i=[t],a=[],s=function(){var t=i.pop();if(t===n)return{v:a};t.isWall||!t.isStart&&t.isVisited||(t.isVisited=!0,a.push(t),x(t,e,!1).forEach((function(e){e.isVisited||(e.previousNode=t,i.push(e))})))};i.length;){var r=s();if("object"===typeof r)return r.v}return[]}var C=n(2),k=n(3);function D(){var e=Object(C.a)(["\n    letter-spacing: .6px;\n    color: rgb(160, 160, 160);\n    font-size: 14px;\n    font-weight: 500;\n    margin-top: 40px;\n"]);return D=function(){return e},e}function I(){var e=Object(C.a)(["\n    color: #4BB543;\n    font-size: 15px;\n    position: absolute;\n    top: 50px;\n    right: 40px;\n    margin-left: auto;\n    font-size: 15px;\n    text-transform: lowercase;\n    font-weight: 500;\n    letter-spacing: .4px;\n"]);return I=function(){return e},e}function M(){var e=Object(C.a)(["\n    color: #fff;\n    font-size: 18px;\n    text-transform: capitalize;\n    font-weight: 800;\n    letter-spacing: 1px;\n"]);return M=function(){return e},e}function B(){var e=Object(C.a)(["\n    position: absolute;\n    z-index: 999;\n    background: rgba(0,0,0,.4);\n    padding: 40px 30px;\n    border-radius: 20px;\n    width: 350px;\n    height: 500px;\n    top: 200px;\n    right: 70px;\n    cursor: pointer;\n"]);return B=function(){return e},e}var F=k.a.div(B()),R=k.a.h1(M()),W=k.a.div(I()),A=k.a.div(D()),T=function(e){var t,n,a=e.handleHideInfos,s=function(e){var i=e.target;i.style.left="".concat(e.pageX-t,"px"),i.style.top="".concat(e.pageY-n,"px")};return Object(i.jsxs)(F,{onMouseDown:function(e){var i=e.target;t=e.clientX-i.getBoundingClientRect().left,n=e.clientY-i.getBoundingClientRect().top,i.addEventListener("mousemove",s)},onMouseUp:function(e){e.target.removeEventListener("mousemove",s)},children:[Object(i.jsx)(R,{children:"How to use?"}),Object(i.jsx)(W,{onClick:a,children:"hide"}),Object(i.jsx)(A,{children:"On the grid, the start node and the finish node are being displayed. Clicking Visualize button will run the animation of the current selected algorithm."}),Object(i.jsx)(A,{children:"These nodes can be moved all around the grid, jus by pressing the mouse on the current node and dragging it to the destination."}),Object(i.jsx)(A,{children:"By clicking on a random grid node, and keeping the mouse pressed, you can draw a wall.(an obstacle for the algorithm)"}),Object(i.jsx)(A,{children:"The reset button will reset just the animated nodes, leaving walls and start/finish nodes untouched. For clearing the walls there is a separate button."})]})},E=n(6);n(34);var V=function(e){var t=e.clearPath,n=e.changeSpeed,a=e.runAlgorithm,s=e.changeAlgorithm,r=e.handleChangeHeuristic,o=e.handleChangeDiagonal,l=e.clearWalls,c=[{value:"Dijkstra",label:"Dijkstra"},{value:"A*",label:"A*"},{value:"BFS",label:"BFS"},{value:"DFS",label:"DFS"}],u=[{value:"100",label:"Very Slow"},{value:"50",label:"Slow"},{value:"25",label:"Normal"},{value:"10",label:"Fast"},{value:"1",label:"Very Fast"}],h=[{value:"euclidean",label:"Eulcidean"},{value:"manhattan",label:"Manhattan"},{value:"diagonal",label:"Diagonal"}],d=[{value:"true",label:"true"},{value:"false",label:"false"}];return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("nav",{className:"Navbar",children:[Object(i.jsxs)("div",{className:"flex wall",onClick:l,children:[Object(i.jsx)("div",{children:"Clear Walls"}),Object(i.jsx)("div",{className:"walls"})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{children:"Algo: "}),Object(i.jsx)(E.a,{onChange:function(e){s(e.value)},options:c,className:"selectTag",placeholder:c[0].label,defaultValue:c[0].label})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{children:"A* Heuristic: "}),Object(i.jsx)(E.a,{onChange:function(e){r(e.value)},options:h,className:"selectTag",placeholder:h[0].label,defaultValue:h[0].label})]}),Object(i.jsx)("div",{className:"button rounded",onClick:a,children:"Visualize"}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{children:"Speed: "}),Object(i.jsx)(E.a,{onChange:function(e){n(e.value)},options:u,className:"selectTag",placeholder:u[2].label,defaultValue:u[2].label})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{children:"Allow diagonal search: "}),Object(i.jsx)(E.a,{onChange:function(e){o(e.value)},options:d,className:"selectTag",placeholder:d[0].label,defaultValue:d[0].label})]}),Object(i.jsxs)("div",{className:"flex reset",onClick:t,children:[Object(i.jsx)("div",{className:"icon"}),Object(i.jsx)("div",{className:"text",children:"Reset"})]})]})})};function P(){var e=Object(C.a)(["\n    color: #4BB543;\n    text-transform: lowercase;\n    margin-left: 15px;\n    font-size: 16px; \n    display: inline-block;\n    font-weight: 400;\n    pointer-events: none;\n"]);return P=function(){return e},e}function z(){var e=Object(C.a)(["\n    color: #ddd;\n    font-size: 16px;\n    font-weight: 400;\n    pointer-events: none;\n"]);return z=function(){return e},e}function H(){var e=Object(C.a)(["\n    position: absolute;\n    bottom: 15px;\n    left: 44%;\n    height: 40px;\n    padding: 5px 30px;\n    display: inline-block;\n    border-radius: 10px;\n    background: rgba(0,0,0,0.5);\n    color: #ddd;\n    z-index: 999;\n    cursor: pointer;\n"]);return H=function(){return e},e}var L=k.a.div(H()),U=k.a.h1(z()),q=k.a.div(P()),G=function(e){var t,n,a=e.timeTaken,s=function(e){var i=e.target;i.style.left="".concat(e.pageX-t,"px"),i.style.top="".concat(e.pageY-n,"px")};return Object(i.jsx)(L,{onMouseDown:function(e){var i=e.target;t=e.clientX-i.getBoundingClientRect().left,n=e.clientY-i.getBoundingClientRect().top,i.addEventListener("mousemove",s)},onMouseUp:function(e){e.target.removeEventListener("mousemove",s)},children:Object(i.jsxs)(U,{children:["Time taken:",Object(i.jsxs)(q,{children:[parseFloat(a).toFixed(3)," ms"]})]})})};n(48),n(49);var X=function(){return Object(i.jsxs)("div",{className:"SecondNavbar",children:[Object(i.jsxs)("div",{className:"flex button-generate-start",children:[Object(i.jsx)("div",{className:"start"}),Object(i.jsx)("div",{children:"Start"})]}),Object(i.jsxs)("div",{className:"flex button-generate-finish",children:[Object(i.jsx)("div",{className:"target"}),Object(i.jsx)("div",{children:"Target"})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"unvisited"}),Object(i.jsx)("div",{children:"Unvisited Node"})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"visited"}),Object(i.jsx)("div",{children:"Visited"})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"wall"}),Object(i.jsx)("div",{children:"Wall"})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"shortest-path"}),Object(i.jsx)("div",{children:"Shortest-Path"})]})]})},Y=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={grid:[],mouseIsPressed:!1,running:!1,animationSpeed:25,algorithm:"Dijkstra",finished:!1,startRow:-1,startColumn:-1,finishRow:-1,finishColumn:-1,startNodeIsBeingDragged:!1,finishNodeIsBeingDragged:!1,heuristicType:"euclidean",allowDiagonal:!0,timeTaken:0,showInfos:!0},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.setState({grid:this.getInitialGrid()})}},{key:"createNode",value:function(e,t){return{col:e,row:t,isStart:t===this.state.startRow&&e===this.state.startColumn,isFinish:t===this.state.finishRow&&e===this.state.finishColumn,distance:1/0,isVisited:!1,isWall:!1,previousNode:null,f:0,g:0,h:0}}},{key:"drawWall",value:function(e,t,n){if(e[t][n].isWall)return e;var i=e.slice();return i[t][n].isWall=!i[t][n].isWall,i}},{key:"getInitialGrid",value:function(){for(var e=document.querySelector(".Grid"),t=e.clientHeight,n=e.clientWidth,i=Math.floor(t/35),a=Math.floor(n/35),s=[],r=0;r<i;r++){for(var o=[],l=0;l<a;l++)o.push(this.createNode(l,r));s.push(o)}var c=this.state,u=c.startRow,h=c.startColumn,d=c.finishRow,f=c.finishColumn;if(-1===u||-1===h||-1===d||-1===f){var g={x:Math.floor(i/2),y:Math.floor(a/4)},v={x:Math.floor(i/2),y:Math.floor(3*a/4)};s[g.x][g.y].isStart=!0,s[v.x][v.y].isFinish=!0,this.setState({startRow:g.x,startColumn:g.y,finishRow:v.x,finishColumn:v.y})}else this.setState({startRow:u,startColumn:h,finishRow:d,finishColumn:f});return s}},{key:"handleMouseDown",value:function(e,t){if(!this.state.running)if(this.state.grid[e][t].isStart)this.setState({mouseIsPressed:!0,startNodeIsBeingDragged:!0});else if(this.state.grid[e][t].isFinish)this.setState({mouseIsPressed:!0,finishNodeIsBeingDragged:!0});else if(!this.state.finished){var n=this.drawWall(this.state.grid,e,t);this.setState({grid:n,mouseIsPressed:!0})}}},{key:"handleMouseEnter",value:function(e,t){if(this.state.mouseIsPressed&&!this.state.running){var n=this.state.grid,i=n[e][t],a=i.isFinish,s=i.isStart,r=i.isWall;if(!a&&!this.state.finished&&!this.state.startNodeIsMoving&&!s&&!this.state.startNodeIsBeingDragged&&!this.state.finishNodeIsBeingDragged){var o=this.drawWall(this.state.grid,e,t);this.setState({grid:o})}if(this.state.startNodeIsBeingDragged){if(r)return;var l=document.querySelector("#dragstart");if(l){var c=parseInt(l.parentNode.id.split("-")[1]),u=parseInt(l.parentNode.id.split("-")[2]);n[c][u].isStart&&(n[c][u].isStart=!1)}n[e][t].isStart=!0,this.setState({grid:n,startColumn:t,startRow:e})}if(this.state.finishNodeIsBeingDragged){if(r)return;var h=document.querySelector("#dragtarget");if(h){var d=parseInt(h.parentNode.id.split("-")[1]),f=parseInt(h.parentNode.id.split("-")[2]);n[d][f].isFinish&&(n[d][f].isFinish=!1)}if(n[e][t].isFinish=!0,this.setState({finishColumn:t,finishRow:e}),this.state.finished){if(n[e][t].isWall)return;var g=n[this.state.startRow][this.state.startColumn],v=n[e][t];if("Dijkstra"===this.state.algorithm){var p=m(n,g,v),j=N(v);this.onDragRecomputation(p,j)}if("A*"===this.state.algorithm){var b=O(n,g,v,this.state.heuristicType,this.state.allowDiagonal),x=N(v);this.onDragRecomputation(b,x)}if("BFS"===this.state.algorithm){var w=y(n,g,v,this.state.allowDiagonal),C=N(v);this.onDragRecomputation(w,C)}if("DFS"===this.state.algorithm){var k=S(n,g,v,this.state.allowDiagonal),D=N(v);this.onDragRecomputation(k,D)}}}}}},{key:"handleMouseUp",value:function(){this.setState({mouseIsPressed:!1,startNodeIsBeingDragged:!1,finishNodeIsBeingDragged:!1})}},{key:"onDragRecomputation",value:function(e,t){for(var n=document.getElementsByClassName("Node Node-visited"),i=document.getElementsByClassName("Node Node-shortest-path"),a=0;a<n.length;a++)n[a].classList.remove("Node-visited");var s,r=Object(h.a)(e);try{for(r.s();!(s=r.n()).done;){var o=s.value;document.getElementById("Node-".concat(o.row,"-").concat(o.col)).className="Node Node-visited"}}catch(f){r.e(f)}finally{r.f()}for(var l=0;l<i.length;l++)i[l].classList.remove("Node-shortest-path");var c,u=Object(h.a)(t);try{for(u.s();!(c=u.n()).done;){var d=c.value;document.getElementById("Node-".concat(d.row,"-").concat(d.col)).className="Node Node-shortest-path"}}catch(f){u.e(f)}finally{u.f()}}},{key:"calculatePath",value:function(){var e,t,n=this.state,i=n.grid,a=n.startRow,s=n.startColumn,r=n.finishRow,o=n.finishColumn,l=n.algorithm,c=i[a][s],u=i[r][o],h=[];switch(this.setState({running:!0}),e=window.performance.now(),l){case"Dijkstra":h=m(i,c,u);break;case"A*":h=O(i,c,u,this.state.heuristicType,this.state.allowDiagonal);break;case"BFS":h=y(i,c,u,this.state.allowDiagonal);break;case"DFS":h=S(i,c,u,this.state.allowDiagonal);break;default:return void console.log("Error")}t=window.performance.now();var d=N(u);this.animateCurrentAlgorithm(h,d),e&&t&&this.setState({timeTaken:t-e})}},{key:"visualizeCurrentAlgorithm",value:function(){var e=this;this.state.running?alert("Already running!"):this.state.finished?this.resetAll((function(){e.calculatePath()})):this.setState({running:!0},(function(){-1!==e.state.startRow&&-1!==e.state.startColumn&&e.calculatePath()}))}},{key:"animateCurrentAlgorithm",value:function(e,t){for(var n=this,i=function(i){if(i===e.length)return setTimeout((function(){n.animateShortestPath(t)}),n.state.animationSpeed/5*i),{v:void 0};setTimeout((function(){var t=e[i],a=document.getElementById("Node-".concat(t.row,"-").concat(t.col));a.className="Node Node-visited",a.style.animationDuration="".concat(n.state.animationSpeed/33.3,"s")}),n.state.animationSpeed/5*i)},a=0;a<=e.length;a++){var s=i(a);if("object"===typeof s)return s.v}}},{key:"animateShortestPath",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,i,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=function(e){setTimeout((function(){var n=t[e],i=document.getElementById("Node-".concat(n.row,"-").concat(n.col));i.className="Node Node-shortest-path",i.style.animationDuration="".concat(a.state.animationSpeed/33.3,"s")}),a.state.animationSpeed*e)},i=0;i<t.length;i++)n(i);return e.next=4,this.setState({running:!1,finished:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetAll",value:function(e){if(this.state.running)alert("Running!");else{for(var t=this.state.grid,n=0;n<t.length;n++)for(var i=0;i<t[0].length;i++)t[n][i].distance=1/0,t[n][i].isVisited=!1,t[n][i].previousNode=null,t[n][i].f=0,t[n][i].g=0,t[n][i].h=0;this.setState({grid:t,running:!1,finished:!1},(function(){for(var t=document.querySelectorAll(".Node-visited"),n=document.querySelectorAll(".Node-shortest-path"),i=0;i<t.length;i++)t[i].classList.remove("Node-visited");for(var a=0;a<n.length;a++)n[a].classList.remove("Node-shortest-path");"function"==typeof e&&e()}))}}},{key:"clearWalls",value:function(){if(console.log("called"),this.state.running)alert("Running!");else{for(var e=this.state.grid,t=0;t<e.length;t++)for(var n=0;n<e[0].length;n++)e[t][n].isWall=!1;this.setState({grid:e})}}},{key:"handleChangeSpeed",value:function(e){this.setState({animationSpeed:e})}},{key:"handleChangeAlgorithm",value:function(e){this.setState({algorithm:e})}},{key:"handleChangeHeuristic",value:function(e){this.setState({heuristicType:e})}},{key:"handleChangeDiagonal",value:function(e){this.setState({allowDiagonal:e})}},{key:"handleHideInfos",value:function(){this.setState({showInfos:!this.state.showInfos})}},{key:"render",value:function(){var e=this,t=this.state,n=t.grid,a=t.mouseIsPressed,s=t.running,r=t.showInfos;return Object(i.jsxs)("div",{className:"Wrapper",children:[r&&Object(i.jsx)(T,{handleHideInfos:this.handleHideInfos.bind(this)}),Object(i.jsx)(V,{clearPath:this.resetAll.bind(this),changeSpeed:this.handleChangeSpeed.bind(this),runAlgorithm:this.visualizeCurrentAlgorithm.bind(this),changeAlgorithm:this.handleChangeAlgorithm.bind(this),handleChangeHeuristic:this.handleChangeHeuristic.bind(this),handleChangeDiagonal:this.handleChangeDiagonal.bind(this),clearWalls:this.clearWalls.bind(this)}),Object(i.jsx)(X,{}),Object(i.jsx)(G,{timeTaken:this.state.timeTaken}),Object(i.jsx)("div",{className:"Grid",children:n.map((function(t,n){return Object(i.jsx)("div",{children:t.map((function(t,n){var r=t.row,o=t.col,l=t.isFinish,c=t.isStart,u=t.isWall;return Object(i.jsx)(p,{row:r,col:o,isFinish:l,isStart:c,isWall:u,isComputing:s,mouseIsPressed:a,onMouseDown:function(t,n){return e.handleMouseDown(t,n)},onMouseEnter:function(t,n){return e.handleMouseEnter(t,n)},onMouseUp:function(){return e.handleMouseUp()}},n)}))},n)}))})]})}}]),n}(a.Component);n(50);var J=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(Y,{})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),s(e),r(e)}))};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(J,{})}),document.getElementById("root")),K()}},[[51,1,2]]]);
//# sourceMappingURL=main.ef5aab6a.chunk.js.map